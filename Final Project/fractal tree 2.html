<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<canvas id = "canvas" width = "1000" height = "600"></canvas>

<script type = text/javascript>
    var x = document.getElementById('canvas');
    var canvas = x.getContext('2d');

    function draw(startX, startY, len, angle, branchWidth){
        canvas.beginPath();
        canvas.save();
        canvas.lineWidth = branchWidth;
        canvas.strokeStyle = "darkgreen";
        canvas.fillStyle = "green";
        canvas.shadowBlur = 10;
        canvas.shadowColor = "rgba(0,0,0,0.5)";

        canvas.translate(startX, startY);
        canvas.rotate(angle * Math.PI/100);
        canvas.moveTo(0,0);
        canvas.lineTo(0,-len);
        canvas.stroke();


        if(len < 10){
            canvas.beginPath();
            canvas.arc(0, -len, 10, 0, Math.PI/2);
            canvas.fill();
            canvas.restore();
            return;
        }



        draw(0, -len, len* 0.8, -15, branchWidth * 0.8);
        draw(0, -len, len* 0.8, 15, branchWidth * 0.8);

        canvas.restore();
    }

    draw(500,600,120,0,10);

    function canvasDraw(angleOffset) {
        canvas.clearRect(0, 0, canvas.width, canvas.height);
        canvas.beginPath();
        drawTree(300, 370, -90, angleOffset, depth);
        canvas.closePath();
        canvas.stroke();
    }

    var k = 1;
    function quick_demo() {
        canvasDraw(k++);
        if (k <= 90) requestAnimationFrame(quick_demo);
    }

    function getAngle(x) {
        return parseInt(1 + 89 * x / $(window).width());
    }

    $(document).ready(function() {
        quick_demo();
        canvasDraw(20);
        (window).mousemove(function(e) {
            canvasDraw(getAngle(e.pageX));
    });
    });



</script>

</body>
</html>